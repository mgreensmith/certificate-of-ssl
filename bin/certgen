#!/usr/bin/env ruby

lib = File.expand_path('../../lib', __FILE__)
$LOAD_PATH.unshift(lib) unless $LOAD_PATH.include?(lib)

require 'bundler/setup'
require 'document_generator'

content = <<EOF
-----BEGIN CERTIFICATE-----
MIIHXTCCBkWgAwIBAgIQDOnfRQJBJB2PAO9Br2lJHjANBgkqhkiG9w0BAQsFADB1
MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
d3cuZGlnaWNlcnQuY29tMTQwMgYDVQQDEytEaWdpQ2VydCBTSEEyIEV4dGVuZGVk
IFZhbGlkYXRpb24gU2VydmVyIENBMB4XDTE1MDQxNTAwMDAwMFoXDTE3MDcwNzEy
MDAwMFowgfoxHTAbBgNVBA8MFFByaXZhdGUgT3JnYW5pemF0aW9uMRMwEQYLKwYB
BAGCNzwCAQMTAlVTMRkwFwYLKwYBBAGCNzwCAQITCERlbGF3YXJlMRAwDgYDVQQF
Ewc1MTMyMTM0MRkwFwYDVQQJExAzNjAgUml0Y2ggU3RyZWV0MQ4wDAYDVQQREwU5
NDEwNzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcT
DVNhbiBGcmFuY2lzY28xGzAZBgNVBAoTEkNvenkgU2VydmljZXMgTHRkLjEVMBMG
A1UEAxMMaG9tZS5jb3p5LmNvMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
AQEArwNppWdkCdfiy3+OPrgVqECHWVGLI9neaNlJB2Z6LV80HSYlFQL0fxe5CsCR
FP0qCDFJMcviqxCrqI1fAgCTkFSHa7DFPsHXSA6egCAEXq8FUlj95UoZjJnGXkW8
jhBoNdMNeTjMQAXGrLE01CF/HPx1TntfYvt1mev8eT5Iztdmem0jy1CvtS/NjC2u
gD13BXwv84zPkgFtUNDPNyx3XzQ/kp6Xs/m0Lw7mEGJqmENVrHxzZuP78pgbZABc
HxOfKh16o3CytJlJtHDe7vUfFp6BTHobuy+leQUi/6Q1hzGyulfmr8Jf477FfoxP
b6PZNNZNbkor0CxEHLJxVLv1BQIDAQABo4IDYTCCA10wHwYDVR0jBBgwFoAUPdNQ
pdagre7zSmAKZdMh1Pj41g8wHQYDVR0OBBYEFE3ypbN6adlE+PyhX6DlHQASd7gV
MBcGA1UdEQQQMA6CDGhvbWUuY296eS5jbzAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0l
BBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMHUGA1UdHwRuMGwwNKAyoDCGLmh0dHA6
Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9zaGEyLWV2LXNlcnZlci1nMS5jcmwwNKAyoDCG
Lmh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9zaGEyLWV2LXNlcnZlci1nMS5jcmww
QgYDVR0gBDswOTA3BglghkgBhv1sAgEwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93
d3cuZGlnaWNlcnQuY29tL0NQUzCBiAYIKwYBBQUHAQEEfDB6MCQGCCsGAQUFBzAB
hhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wUgYIKwYBBQUHMAKGRmh0dHA6Ly9j
YWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFNIQTJFeHRlbmRlZFZhbGlkYXRp
b25TZXJ2ZXJDQS5jcnQwDAYDVR0TAQH/BAIwADCCAX0GCisGAQQB1nkCBAIEggFt
BIIBaQFnAHYApLkJkLQYWBSHuxOizGdwCjw1mAT5G9+443fNDsgN3BAAAAFMvwVh
2gAABAMARzBFAiEAkcU3TByiL5bujuflLUHcarvB3H8cEQuaUQsBc3Z4tg0CIDbB
PJlxJ7z/1s2r2Dg0WlamBbM5smNI4fNnCoJhFcp8AHUAaPaY+B9kgr46jO65KB1M
/HFRXWeT1ETRCmesu09P+8QAAAFMvwVhdwAABAMARjBEAiAXBzpdrEcnAnP25UkZ
5AZGRfE5X3w+MUx9ryLGr7kwhQIgZjLmcFWSfW7ABIyS5x2yz6qS6WMwK+u4ZgA7
grWFAdoAdgBWFAaaL9fC7NP14b1Esj7HRna5vJkRXMDvlJhV1onQ3QAAAUy/BWMS
AAAEAwBHMEUCIQD56ZDtv1nQpveMSnJYU1zFwELMd3sqeo8wzJW19biRKgIgWhCX
v0biDodb1cokFWQbaXvSmx/f7XEFllxXjOhAaawwDQYJKoZIhvcNAQELBQADggEB
ACzGCCRPfih5j9EGuemu7kPYfvxGKVMv2FlN3wc85gyMQGsmm5NdSzwVv45kasfG
tGSPDCgBq6Y5CphxgM0BCjP4xO1yF6Vq1bJCPOEEV2gu40b1zNZWPrX/LQ2tAkjE
EtnXagiyHl2Zx4RMwCW7UU3IzLeEWWjDTVHVJo4iLiQNkmr35w1YuU9pyjBwyKTj
70S88w7y9DvRs7qtFJKJisMf6h9bG/74kJSGaC89j5dd3lZBIeHhFMohvdHCjegr
u+oZr6LWifLug1jJUoy8e+H03RJ0GVi2y4KpKrWZ1vVW0eYvWd/DcV26AziH3iVn
7xram6HmnL8lQ3mI+ZzWEwg=
-----END CERTIFICATE-----
EOF

org = 'Some Company Ltd.'
domain = 'some.domain.com'
issuer = 'DigiCert Ltd.'
expiry = Date.today

DocumentGenerator.new(content, org, domain, issuer, expiry).generate_certificate
